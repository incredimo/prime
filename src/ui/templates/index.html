<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite AI Agent</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <header>
        <div class="logo" aria-label="Infinite AI Agent">
            <!-- Robot SVG Icon -->
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
                <rect x="3" y="7" width="18" height="12" rx="4" fill="#343a40"/>
                <circle cx="8" cy="13" r="2" fill="#fff"/>
                <circle cx="16" cy="13" r="2" fill="#fff"/>
                <rect x="10.5" y="3" width="3" height="4" rx="1.5" fill="#343a40"/>
            </svg>
            <span>Infinite AI Agent</span>
        </div>
        <nav aria-label="Main navigation">
            <ul>
                <li><a href="/" aria-current="page">
                    <!-- Home SVG -->
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 12L12 4l9 8" stroke="#343a40" stroke-width="2" fill="none"/><path d="M5 12v7a2 2 0 002 2h2a2 2 0 002-2v-3h2v3a2 2 0 002 2h2a2 2 0 002-2v-7" stroke="#343a40" stroke-width="2" fill="none"/></svg>
                    Home
                </a></li>
                <li><a href="/logs">
                    <!-- Logs SVG -->
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="4" y="4" width="16" height="16" rx="2" stroke="#343a40" stroke-width="2" fill="none"/><path d="M8 8h8M8 12h8M8 16h4" stroke="#343a40" stroke-width="2"/></svg>
                    System Logs
                </a></li>
                <li><a href="/history">
                    <!-- History SVG -->
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#343a40" stroke-width="2" fill="none"/><path d="M12 6v6l4 2" stroke="#343a40" stroke-width="2"/></svg>
                    Task History
                </a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="container">
            <div style="display: flex; flex-wrap: wrap; gap: 24px;">
                <!-- Left Column -->
                <section style="flex: 2 1 600px; min-width: 350px;">
                    <!-- Active Tasks Card -->
                    <div class="card" aria-labelledby="activeTasksTitle">
                        <div class="card-header">
                            <span class="card-title" id="activeTasksTitle">
                                <!-- List SVG -->
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="4" y="6" width="16" height="2" fill="#343a40"/><rect x="4" y="11" width="16" height="2" fill="#343a40"/><rect x="4" y="16" width="16" height="2" fill="#343a40"/></svg>
                                Active Tasks
                            </span>
                            <button id="refreshTasks" class="button button-secondary" aria-label="Refresh tasks">
                                <!-- Refresh SVG -->
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 4v6h6" stroke="#fff" stroke-width="2" fill="none"/><path d="M20 20v-6h-6" stroke="#fff" stroke-width="2" fill="none"/><path d="M5 19A9 9 0 1 1 19 5" stroke="#fff" stroke-width="2" fill="none"/></svg>
                                Refresh
                            </button>
                        </div>
                        <div>
                            <div id="activeTasks" class="task-list" aria-live="polite">
                                <!-- Tasks will be populated here -->
                                <div style="text-align:center; padding: 40px 0;" id="noTasksMessage">
                                    <!-- Inbox SVG -->
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="3" y="12" width="18" height="7" rx="2" stroke="#dee2e6" stroke-width="2" fill="none"/><path d="M3 12l3-7h12l3 7" stroke="#dee2e6" stroke-width="2" fill="none"/></svg>
                                    <p class="task-meta">No active tasks</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Task Statistics Card -->
                    <div class="card" aria-labelledby="taskStatsTitle">
                        <div class="card-header">
                            <span class="card-title" id="taskStatsTitle">
                                <!-- Bar Chart SVG -->
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="4" y="10" width="3" height="10" fill="#343a40"/><rect x="10.5" y="6" width="3" height="14" fill="#343a40"/><rect x="17" y="2" width="3" height="18" fill="#343a40"/></svg>
                                Task Statistics
                            </span>
                        </div>
                        <div>
                            <div class="status-dashboard">
                                <div class="status-card">
                                    <div class="stats-icon">
                                        <!-- Lightning SVG -->
                                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" fill="#0066cc"/></svg>
                                    </div>
                                    <div class="status-value" id="activeTasksCount">0</div>
                                    <div>Active Tasks</div>
                                </div>
                                <div class="status-card">
                                    <div class="stats-icon">
                                        <!-- Check SVG -->
                                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><polyline points="20 6 9 17 4 12" stroke="#28a745" stroke-width="3" fill="none"/></svg>
                                    </div>
                                    <div class="status-value" id="completedTasksCount">0</div>
                                    <div>Completed</div>
                                </div>
                                <div class="status-card">
                                    <div class="stats-icon">
                                        <!-- X SVG -->
                                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><line x1="18" y1="6" x2="6" y2="18" stroke="#dc3545" stroke-width="3"/><line x1="6" y1="6" x2="18" y2="18" stroke="#dc3545" stroke-width="3"/></svg>
                                    </div>
                                    <div class="status-value" id="failedTasksCount">0</div>
                                    <div>Failed</div>
                                </div>
                                <div class="status-card">
                                    <div class="stats-icon">
                                        <!-- Clock SVG -->
                                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#17a2b8" stroke-width="2" fill="none"/><path d="M12 7v5l4 2" stroke="#17a2b8" stroke-width="2"/></svg>
                                    </div>
                                    <div class="status-value" id="totalTasksCount">0</div>
                                    <div>Total Tasks</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Tasks Card -->
                    <div class="card" aria-labelledby="recentTasksTitle">
                        <div class="card-header">
                            <span class="card-title" id="recentTasksTitle">
                                <!-- Clock SVG -->
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#343a40" stroke-width="2" fill="none"/><path d="M12 7v5l4 2" stroke="#343a40" stroke-width="2"/></svg>
                                Recent Tasks
                            </span>
                        </div>
                        <div>
                            <div id="recentTasks" class="task-list" aria-live="polite">
                                <!-- Recent tasks will be populated here -->
                                <div style="text-align:center; padding: 40px 0;" id="noRecentTasksMessage">
                                    <!-- Clock SVG -->
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#dee2e6" stroke-width="2" fill="none"/><path d="M12 7v5l4 2" stroke="#dee2e6" stroke-width="2"/></svg>
                                    <p class="task-meta">No recent tasks</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Right Column -->
                <aside style="flex: 1 1 320px; min-width: 280px;">
                    <!-- Start New Task Card -->
                    <div class="card" aria-labelledby="startTaskTitle">
                        <div class="card-header">
                            <span class="card-title" id="startTaskTitle">
                                <!-- Send SVG -->
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><polygon points="2 21 23 12 2 3 6 12 2 21" fill="#343a40"/></svg>
                                Start New Task
                            </span>
                        </div>
                        <div>
                            <form action="/submit" method="post" class="goal-form" aria-label="Start new task">
                                <div class="form-group">
                                    <label for="goal">Enter your goal:</label>
                                    <textarea id="goal" name="goal" rows="3" placeholder="e.g., Install Docker, Create a Python script to analyze logs, etc."></textarea>
                                </div>
                                <button type="submit" class="button" style="width:100%;">
                                    <!-- Play SVG -->
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><polygon points="5 3 19 12 5 21 5 3" fill="#fff"/></svg>
                                    Execute Task
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- System Status Card -->
                    <div class="card" aria-labelledby="systemStatusTitle">
                        <div class="card-header">
                            <span class="card-title" id="systemStatusTitle">
                                <!-- Info SVG -->
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#343a40" stroke-width="2" fill="none"/><circle cx="12" cy="8" r="1.5" fill="#343a40"/><rect x="11" y="11" width="2" height="6" rx="1" fill="#343a40"/></svg>
                                System Status
                            </span>
                        </div>
                        <div>
                            <div class="system-status">
                                <span class="status-indicator status-online" id="agentStatus" aria-label="Agent online"></span>
                                <span>Agent: </span>
                                <span id="agentStatusText">Online</span>
                            </div>
                            <div class="system-status">
                                <span class="status-indicator" id="ollamaStatus" aria-label="Ollama status"></span>
                                <span>Ollama: </span>
                                <span id="ollamaStatusText">Checking...</span>
                            </div>
                            <hr>
                            <div style="margin-bottom: 8px;">
                                <strong>Current Model:</strong> <span id="currentModel">Loading...</span>
                            </div>
                            <div>
                                <strong>Available Models:</strong>
                                <div id="availableModels" style="margin-top: 4px;">
                                    <span class="loader" aria-label="Loading models"></span>
                                    <span style="margin-left: 6px;">Loading models...</span>
                                </div>
                            </div>
                            <hr>
                            <div style="display: flex; justify-content: space-between;">
                                <span><strong>API Port:</strong> <span id="apiPort">8000</span></span>
                                <span><strong>UI Port:</strong> <span id="uiPort">8080</span></span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Links Card -->
                    <div class="card" aria-labelledby="quickLinksTitle">
                        <div class="card-header">
                            <span class="card-title" id="quickLinksTitle">
                                <!-- Life Preserver SVG -->
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#343a40" stroke-width="2" fill="none"/><circle cx="12" cy="12" r="4" stroke="#343a40" stroke-width="2" fill="none"/><path d="M2 12h4M18 12h4M12 2v4M12 18v4" stroke="#343a40" stroke-width="2"/></svg>
                                Quick Links
                            </span>
                        </div>
                        <div>
                            <ul style="list-style:none; padding:0; margin:0;">
                                <li>
                                    <a href="/logs" class="button button-secondary" style="width:100%; margin-bottom:8px; display:flex; align-items:center; gap:8px;">
                                        <!-- Journal SVG -->
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="4" y="4" width="16" height="16" rx="2" stroke="#343a40" stroke-width="2" fill="none"/><path d="M8 8h8M8 12h8M8 16h4" stroke="#343a40" stroke-width="2"/></svg>
                                        System Logs
                                    </a>
                                </li>
                                <li>
                                    <a href="/history" class="button button-secondary" style="width:100%; margin-bottom:8px; display:flex; align-items:center; gap:8px;">
                                        <!-- Clock SVG -->
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="#343a40" stroke-width="2" fill="none"/><path d="M12 7v5l4 2" stroke="#343a40" stroke-width="2"/></svg>
                                        Task History
                                    </a>
                                </li>
                                <li>
                                    <a href="https://docs.anthropic.com/claude/docs" target="_blank" rel="noopener" class="button button-secondary" style="width:100%; margin-bottom:8px; display:flex; align-items:center; gap:8px;">
                                        <!-- Book SVG -->
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="3" y="4" width="18" height="16" rx="2" stroke="#343a40" stroke-width="2" fill="none"/><path d="M7 4v16" stroke="#343a40" stroke-width="2"/></svg>
                                        Claude Documentation
                                        <!-- External Link SVG -->
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M14 3h7v7" stroke="#343a40" stroke-width="2"/><path d="M10 14l11-11" stroke="#343a40" stroke-width="2"/><rect x="3" y="10" width="11" height="11" rx="2" stroke="#343a40" stroke-width="2"/></svg>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://github.com/ollama/ollama" target="_blank" rel="noopener" class="button button-secondary" style="width:100%; display:flex; align-items:center; gap:8px;">
                                        <!-- GitHub SVG -->
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2C6.48 2 2 6.58 2 12.26c0 4.48 2.87 8.28 6.84 9.63.5.09.68-.22.68-.48 0-.24-.01-.87-.01-1.7-2.78.62-3.37-1.36-3.37-1.36-.45-1.18-1.1-1.5-1.1-1.5-.9-.63.07-.62.07-.62 1 .07 1.53 1.05 1.53 1.05.89 1.56 2.34 1.11 2.91.85.09-.66.35-1.11.63-1.37-2.22-.26-4.56-1.14-4.56-5.07 0-1.12.39-2.03 1.03-2.75-.1-.26-.45-1.3.1-2.7 0 0 .84-.28 2.75 1.05a9.18 9.18 0 012.5-.34c.85 0 1.7.11 2.5.34 1.91-1.33 2.75-1.05 2.75-1.05.55 1.4.2 2.44.1 2.7.64.72 1.03 1.63 1.03 2.75 0 3.94-2.34 4.81-4.57 5.07.36.32.68.94.68 1.9 0 1.37-.01 2.47-.01 2.81 0 .27.18.58.69.48A10.01 10.01 0 0022 12.26C22 6.58 17.52 2 12 2z" fill="#343a40"/></svg>
                                        Ollama GitHub
                                        <!-- External Link SVG -->
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M14 3h7v7" stroke="#343a40" stroke-width="2"/><path d="M10 14l11-11" stroke="#343a40" stroke-width="2"/><rect x="3" y="10" width="11" height="11" rx="2" stroke="#343a40" stroke-width="2"/></svg>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <script src="/static/app.js"></script>
</body>
</html>